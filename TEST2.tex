% !TeX program = lualatex
% !TeX encoding = utf8
% !TeX spellcheck = uk_UA

\documentclass[
%border=1cm
]{ProblemBook}

%\usetikzlibrary{3d}


%\usepackage{OpticsImages}




\begin{document}
\pagestyle{main}

	\begin{tikzpicture}
		%        \draw (-3,-3) to [grid with coordinates] (3,3);
		\fill[ultra thin, draw = cyan, glass] (-3,-0.2) rectangle (3,0.2);
		\fill[red] (-2,1) circle (0.05) coordinate (S);
		\node[left] at (S) {$S$};
		\draw[ray](S) -- (-1,0.2);
		\draw[ray] (-1,0.2) -- (2.5,3) coordinate (P);
		\node[right] at (P) {$P$};
		\draw[dashed] (-1,0.2) -- (-2,-0.6) coordinate (S1);
		\fill[red] (S1) circle (0.05);
		\node[left] at (S1) {$S_1$};
		\draw[ray] (S) -- (-1.3,0.2) coordinate (O1);
		\draw[red] (O1) -- ++(0.25,-0.4) -- ++(0.25,0.4) coordinate (Out);
		\draw[dashed] (Out) -- (-2,-0.9) coordinate (S2);
        \draw[ray] (Out) -- (P);
		\fill[red] (S2) circle (0.05);
		\node[below left] at (S2) {$S_2$};
		\draw[ultra thin, dash dot] (S) -- (S2);
		        \draw[latex-latex, thin] (P) -- (P|-0,0.2);
	\end{tikzpicture}



\end{document}


